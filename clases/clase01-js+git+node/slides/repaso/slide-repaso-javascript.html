<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repaso JavaScript Detallado - Curso Backend</title>
    <link rel="stylesheet" href="./slide-repaso-javascript.css">
</head>
<body>
    <div class="progress-bar" id="progress-bar"></div>
    
    <div class="slideshow-container">
        
        <!-- Slide 1: Portada -->
        <div class="slide active">
            <span class="emoji">üìö</span>
            <h1>REPASO JAVASCRIPT</h1>
            <h2>Conceptos Fundamentales para Backend</h2>
            <p><span class="highlight">¬°Prepar√°ndose para Node.js!</span></p>
            <p>Variables, Arrays, Objetos, Async/Await, Fetch</p>
            <p>üéØ <span class="highlight">15 minutos de repaso intensivo</span></p>
        </div>

        <!-- Slide 2: Variables y Operadores -->
        <div class="slide">
            <h2>üî¢ Variables y Operadores</h2>
            
            <div class="two-columns">
                <div>
                    <h3>Declaraci√≥n de Variables</h3>
                    <div class="code">// ‚úÖ Usar const por defecto
const nombre = 'Ana';
const edad = 25;
const activo = true;

// ‚úÖ Usar let cuando necesites reasignar
let contador = 0;
contador = contador + 1;

// ‚ùå Evitar var (es legacy)
var viejo = 'no usar';</div>
                    
                    <div class="console-tip">
                        <strong>üìù Regla de oro:</strong><br>
                        <strong>const</strong> ‚Üí por defecto<br>
                        <strong>let</strong> ‚Üí cuando necesites cambiar<br>
                        <strong>var</strong> ‚Üí nunca usar
                    </div>
                </div>
                
                <div>
                    <h3>Operadores Esenciales</h3>
                    <div class="code">// Aritm√©ticos
const suma = 5 + 3;        // 8
const resto = 10 % 3;      // 1
const potencia = 2 ** 3;   // 8

// Comparaci√≥n
const igual = 5 === '5';   // false (estricto)
const diferente = 5 !== 3; // true

// L√≥gicos
const y = true && false;   // false
const o = true || false;   // true
const no = !true;          // false

// Template literals
const saludo = `Hola ${nombre}, tienes ${edad} a√±os`;</div>
                    
                    <div class="success">
                        <strong>üí° En Backend usaremos:</strong>
                        <ul>
                            <li><strong>===</strong> para comparaciones</li>
                            <li><strong>Template literals</strong> para strings</li>
                            <li><strong>&&</strong> y <strong>||</strong> para validaciones</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Arrays y sus M√©todos -->
        <div class="slide">
            <h2>üìä Arrays y sus M√©todos</h2>
            
            <div class="two-columns">
                <div>
                    <h3>M√©todos Funcionales (Los m√°s usados)</h3>
                    <div class="code">const numeros = [1, 2, 3, 4, 5];

// MAP - Transformar cada elemento
const dobles = numeros.map(n => n * 2);
// [2, 4, 6, 8, 10]

// FILTER - Filtrar elementos
const pares = numeros.filter(n => n % 2 === 0);
// [2, 4]

// REDUCE - Reducir a un valor
const suma = numeros.reduce((total, n) => total + n, 0);
// 15

// FIND - Encontrar elemento
const usuarios = [
    { id: 1, nombre: 'Ana' },
    { id: 2, nombre: 'Luis' }
];
const ana = usuarios.find(u => u.id === 1);</div>
                    
                    <div class="success">
                        <strong>üöÄ En Backend son esenciales:</strong>
                        <ul>
                            <li><strong>map()</strong> ‚Üí transformar datos de BD</li>
                            <li><strong>filter()</strong> ‚Üí buscar registros</li>
                            <li><strong>find()</strong> ‚Üí buscar por ID</li>
                            <li><strong>reduce()</strong> ‚Üí calcular totales</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3>Destructuring</h3>
                    <div class="code">const usuario = {
    id: 1,
    nombre: 'Ana Garc√≠a',
    email: 'ana@email.com'
};

// B√°sico
const { nombre, email } = usuario;
console.log(nombre); // 'Ana Garc√≠a'

// Con valores por defecto
const { telefono = 'No especificado' } = usuario;

// En funciones
function saludar({ nombre, email }) {
    return `Hola ${nombre}, tu email es ${email}`;
}

// Arrays
const numeros = [1, 2, 3, 4, 5];
const [primero, segundo, ...resto] = numeros;
console.log(primero); // 1
console.log(resto); // [3, 4, 5]</div>
                    
                    <div class="success">
                        <strong>üéØ En Backend lo usaremos para:</strong>
                        <ul>
                            <li><strong>req.body:</strong> const { nombre, email } = req.body</li>
                            <li><strong>Par√°metros:</strong> const { id } = req.params</li>
                            <li><strong>Config:</strong> const { PORT } = process.env</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Async/Await -->
        <div class="slide">
            <h2>‚è∞ Async/Await (Programaci√≥n As√≠ncrona)</h2>
            
            <div class="two-columns">
                <div>
                    <h3>Conceptos Fundamentales</h3>
                    <div class="code">// ‚ùå Callback Hell (lo que NO queremos)
function obtenerDatos(callback) {
    setTimeout(() => {
        callback(null, 'datos');
    }, 1000);
}

// ‚úÖ Promise
function obtenerDatosPromise() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve('datos');
        }, 1000);
    });
}

// üöÄ Async/Await (nuestro est√°ndar)
async function obtenerDatos() {
    const datos = await obtenerDatosPromise();
    return datos;
}</div>
                    
                    <div class="console-tip">
                        <strong>üìù Reglas de Async/Await:</strong><br>
                        ‚Ä¢ <strong>async</strong> va antes de function<br>
                        ‚Ä¢ <strong>await</strong> solo dentro de funciones async<br>
                        ‚Ä¢ <strong>await</strong> pausa hasta que resuelve<br>
                        ‚Ä¢ Siempre usar <strong>try/catch</strong>
                    </div>
                </div>
                
                <div>
                    <h3>Manejo de Errores</h3>
                    <div class="code">// Estructura b√°sica con try/catch
async function procesarDatos() {
    try {
        const datos = await obtenerDatos();
        const procesados = await procesarDatos(datos);
        const guardados = await guardarDatos(procesados);
        
        return guardados;
    } catch (error) {
        console.error('Error:', error.message);
        return null;
    }
}

// En Node.js se ver√° as√≠:
async function crearUsuario(req, res) {
    try {
        const { nombre, email } = req.body;
        
        const usuario = await Usuario.create({
            nombre,
            email
        });
        
        res.json({ success: true, usuario });
    } catch (error) {
        res.status(500).json({ 
            success: false, 
            message: error.message 
        });
    }
}</div>
                    
                    <div class="success">
                        <strong>üéØ En Backend lo usaremos para:</strong>
                        <ul>
                            <li><strong>Base de datos:</strong> await User.findAll()</li>
                            <li><strong>Archivos:</strong> await fs.readFile()</li>
                            <li><strong>APIs externas:</strong> await fetch()</li>
                            <li><strong>Todo en Node.js es as√≠ncrono!</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Fetch API -->
        <div class="slide">
            <h2>üåê Fetch API (Consumir APIs)</h2>
            
            <div class="two-columns">
                <div>
                    <h3>GET - Obtener Datos</h3>
                    <div class="code">// GET b√°sico
async function obtenerUsuarios() {
    try {
        const response = await fetch('https://api.ejemplo.com/usuarios');
        
        // Verificar si es exitosa
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
        }
        
        const usuarios = await response.json();
        return usuarios;
    } catch (error) {
        console.error('Error:', error.message);
        return [];
    }
}</div>
                </div>
                
                <div>
                    <h3>POST - Enviar Datos</h3>
                    <div class="code">// POST - Crear usuario
async function crearUsuario(userData) {
    try {
        const response = await fetch('/api/usuarios', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer token123'
            },
            body: JSON.stringify(userData)
        });
        
        if (!response.ok) {
            throw new Error(`Error ${response.status}`);
        }
        
        return await response.json();
    } catch (error) {
        console.error('Error:', error.message);
        throw error;
    }
}</div>
                </div>
            </div>
            
            <div class="concept-box">
                <h3>üîß M√©todos HTTP:</h3>
                <div class="three-columns">
                    <div><strong>GET:</strong> Obtener datos</div>
                    <div><strong>POST:</strong> Crear datos</div>
                    <div><strong>PUT:</strong> Actualizar datos</div>
                    <div><strong>DELETE:</strong> Eliminar datos</div>
                    <div><strong>Headers:</strong> Content-Type, Auth</div>
                    <div><strong>Body:</strong> JSON.stringify(data)</div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Resumen -->
        <div class="slide summary-slide">
            <span class="emoji">üéØ</span>
            <h2>Resumen y Pr√≥ximos Pasos</h2>
            
            <div class="concept-box">
                <h3>üí° Pregunta de Verificaci√≥n</h3>
                <p style="font-size: 1.3em; text-align: center;">¬øCu√°l es la salida de este c√≥digo?</p>
                <div class="code">const usuarios = [
    { nombre: 'Ana', edad: 25 },
    { nombre: 'Luis', edad: 30 },
    { nombre: 'Mar√≠a', edad: 22 }
];

const resultado = usuarios
    .filter(u => u.edad >= 25)
    .map(u => u.nombre)
    .join(' y ');

console.log(resultado);</div>
                <p style="font-size: 1.4em; color: #ffd700; text-align: center;">
                    <strong>Respuesta:</strong> "Ana y Luis"
                </p>
            </div>
            
            <div class="success">
                <strong>üöÄ Con estos conceptos vas a poder:</strong>
                <ul>
                    <li>Usar <strong>destructuring</strong> en req.body y req.params</li>
                    <li>Manejar <strong>async/await</strong> con base de datos</li>
                    <li>Procesar datos con <strong>map(), filter(), find()</strong></li>
                    <li>Crear <strong>endpoints</strong> con manejo de errores</li>
                </ul>
            </div>
        </div>

    </div>

    <div class="slide-counter">
        <span id="current-slide">1</span> / <span id="total-slides">6</span>
    </div>

    <div class="navigation">
        <button class="nav-btn" onclick="previousSlide()">‚óÄ Anterior</button>
        <button class="nav-btn" onclick="nextSlide()">Siguiente ‚ñ∂</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const progressBar = document.getElementById('progress-bar');

        document.getElementById('total-slides').textContent = totalSlides;

        function updateProgress() {
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = progress + '%';
        }

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            document.getElementById('current-slide').textContent = currentSlide + 1;
            updateProgress();
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function previousSlide() {
            showSlide(currentSlide - 1);
        }

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousSlide();
            }
        });

        // Navegaci√≥n con click
        document.addEventListener('click', function(e) {
            if (e.target.closest('.nav-btn')) return;
            if (e.clientX > window.innerWidth / 2) {
                nextSlide();
            } else {
                previousSlide();
            }
        });

        // Touch/swipe para m√≥viles
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                nextSlide();
            }
            if (touchEndX > touchStartX + 50) {
                previousSlide();
            }
        }

        // Inicializar
        updateProgress();
    </script>
</body>
</html>